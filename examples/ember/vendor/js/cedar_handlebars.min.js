if(_(Handlebars).isUndefined()&&!_(Ember).isUndefined())var Handlebars=Ember.Handlebars;Handlebars.registerHelper("cedar",function(e){"use strict";var n=function(e){var n=0;if(0==e.length)return n;for(var t=0;t<e.length;t++){var r=e.charCodeAt(t);n=(n<<5)-n+r,n&=n}return n},t=function(e){var n={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#x27;":"'"};return e.replace(/&#?\w+;/g,function(e){return n[e]})},r=function(){return"function"==typeof e.fn?!0:!1},a=function(e,n){var t=document.getElementById(e);if(null!==t){var r=t.parentNode,a=document.createElement("div");a.innerHTML=n;for(var d=a.childNodes,i=d.length,o=0;i>o;o++)r.insertBefore(d[0],t);r.removeChild(t)}},d=e.hash.tagName||"span";r()&&(d=e.hash.tagName||"div");var i=document.createElement(d);i.id="cedar-js-"+n(e.hash.id);var o="",s=e.hash.type||"ContentEntry",u=r()?"ContentObject":"ContentEntry";return Cedar.store.get(s,{id:e.hash.id}).then(function(n){var d=new window.Cedar[u]({cedarId:e.hash.id,cedarType:s,defaultContent:e.hash["default"]});d.setContent(n),r()?(Cedar.admin.isEditMode()&&(o+=d.getEditOpen()),o+=t(e.fn(d.toJSON())),Cedar.admin.isEditMode()&&(o+=d.getEditClose())):o=d.toString(),a(i.id,o)}),new Handlebars.SafeString(o||i.outerHTML)});